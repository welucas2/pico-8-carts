pico-8 cartridge // http://www.pico-8.com
version 16
__lua__
--paddle
padx=52
pady=122
padw=24
padh=4

--ball
ballx=64
bally=64
ballsize=3
ballxdir=5
ballydir=-3

score=0
lives=3

function movepaddle()
 if btn(0) then
  padx-=3
 elseif btn(1) then
  padx+=3
 end
end

function moveball()
	ballx+=ballxdir
	bally+=ballydir
end

function losedeadball()
 if bally>128-ballsize then
  if lives>0 then
   --next life
   sfx(2)
   bally=24
   lives-=1
  else
   --game over
   sfx(3)
   ballydir=0
   ballxdir=0
   bally=64
  end
 end
end

function bounceball()
 --left
 if ballx<ballsize then
  ballxdir=-ballxdir
  sfx(0)
 end
 --right
	if ballx>128-ballsize then
	 ballxdir=-ballxdir
	 sfx(0)
	end
	--top
	if bally<ballsize then
	 ballydir=-ballydir
	 sfx(0)
	end
end

--bounce the ball off the paddle
function bouncepaddle()
 if ballx>padx and
  ballx<=padx+padw and
  bally>pady then
  sfx(1)
  score+=10 --increase the score on a hit
  ballydir=-ballydir
 end
end

function _update()
 movepaddle()
 bounceball()
 bouncepaddle()
 moveball()
 losedeadball()
end

function _draw()
 --clear the screen
 rectfill(0,0,128,128,3)
 
 --draw the lives
 for i=1,lives do
  spr(001,90+i*8,4)
 end
 
 --draw the score
 print(score,12,6,15)
 
 --draw the paddle
 rectfill(padx,pady,padx+padw,pady+padh,15)

	--draw the ball
	circfill(ballx,bally,ballsize,15)
end 
__gfx__
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000088088000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00700700888888800000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00077000888888800000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00077000088888000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00700700008880000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000800000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
__sfx__
000200003505036050360502f0502c0502e0503105033050000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00030000260501f0501e0501d0501c0501b0501b05000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
000b000032050240501c050160500f0500b0500905008050080400803000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
001500002e0502b05028050250501f0501f0501f05000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
